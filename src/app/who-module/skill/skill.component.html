<td-expansion-panel [class]="skill.class">
  <ng-template td-expansion-panel-header>
    <div layout="row" flex="100"
         layout-align="start center">
      <img md-icon flex="10" flex-gt-xs="5"
           class="size-24"
           src="/assets/icons/{{skill.icon}}">
      <h3 flex="90" flex-gt-md="40">{{skill.name}}</h3>
    </div>
  </ng-template>

  <td-expansion-summary layout="row" flex="100">
    <md-progress-bar [value]="skill.proficiency"
                     mode="determinate">
    </md-progress-bar>
  </td-expansion-summary>
  <div layout-gt-sm="row">
    <md-card flex-gt-sm="30" layout-align="center center">
      <div class="chart-height push-top push-right-sm">
        <ngx-charts-linear-gauge
          [view]="view"
          [scheme]="{domain: [skill.class]}"
          [value]="skill.proficiency"
          [valueFormatting]="formatProficiency"
          [min]="0"
          [max]="100"
          [units]="proficiency">
        </ngx-charts-linear-gauge>
        <md-divider></md-divider>
        <ngx-charts-linear-gauge
          [view]="view"
          [scheme]="{domain: [skill.class]}"
          [value]="skill.years"
          [min]="0"
          [max]="10"
          [units]="years">
        </ngx-charts-linear-gauge>
      </div>
    </md-card>
    <md-card flex-gt-sm="40">
      <md-card-content>
        <h3>{{ getRemoteTranslation(skill.legend) }}</h3>
        <div [innerHTML]="getRemoteTranslation(skill.description)"></div>
      </md-card-content>
    </md-card>

    <md-card flex-gt-sm="30">
      <md-card-content><h3>{{ 'WORKS.title' | translate }}</h3>

        <md-nav-list *ngIf="$worksRelated | async as works;">
          <a *ngFor="let work of works"
             md-list-item [routerLink]="['/works' | localize, work.slug]">
            <img md-list-avatar class="tag size-24"
                 alt="work.name"
                 [src]="getAvatar(work.slug)">
            <!--<md-icon md-list-avatar>face</md-icon>-->
            <h3 md-line> {{ work.name }} </h3>
          </a>
        </md-nav-list>

      </md-card-content>
    </md-card>
  </div>
</td-expansion-panel>
